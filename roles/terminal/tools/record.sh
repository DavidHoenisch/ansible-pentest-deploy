#!/bin/bash

RECORDINGS_DIR="$HOME/recordings"

start_recording() {
    mkdir -p "$RECORDINGS_DIR"

    script "$RECORDINGS_DIR/$(date '+%Y-%m-%d_%H-%M-%S').log"
}

stop_recording() {
    if pgrep -x "script" > /dev/null
    then
        pkill -x "script"
        
    fi
}

logout_handler() {
    stop_recording
}

trap logout_handler EXIT

start_recording

zsh
